<div class="color-picker-container">
  <h3 class="color-title">Generic Color Picker</h3>

  <!-- Background Color -->
  <div>
    <label>Background Color:</label>
    <div class="color-options">
      <div *ngFor="let color of colors" class="color-circle"
           [ngStyle]="{'background-color': color}"
           [class.selected]="backgroundSelectedColor === color"
           (click)="selectColor('background', color)">
      </div>
    </div>
    <div class="custom-color-container">
      <input 
        type="color" 
        [value]="backgroundCustomColor" 
        (input)="onCustomColorChange('background', $event)">
      <span>{{ backgroundCustomColor }}</span>
    </div>
    <div class="custom-color-code-container">
      <input 
        type="text" 
        [(ngModel)]="backgroundCustomColor" 
        [class.invalid]="!backgroundValid"
        (input)="onCustomColorChange('background', $event)"
        placeholder="#FFFFFF" 
        maxlength="7">
      <button (click)="applyCustomColor('background')">Apply</button>
    </div>
    <div *ngIf="!backgroundValid" class="error-message">Invalid color code</div>
  </div>

  <!-- Button Color -->
  <div>
    <label>Button Color:</label>
    <div class="color-options">
      <div *ngFor="let color of colors" class="color-circle"
           [ngStyle]="{'background-color': color}"
           [class.selected]="buttonSelectedColor === color"
           (click)="selectColor('button', color)">
      </div>
    </div>
    <div class="custom-color-container">
      <input 
        type="color" 
        [value]="buttonCustomColor" 
        (input)="onCustomColorChange('button', $event)">
      <span>{{ buttonCustomColor }}</span>
    </div>
    <div class="custom-color-code-container">
      <input 
        type="text" 
        [(ngModel)]="buttonCustomColor" 
        [class.invalid]="!buttonValid"
        (input)="onCustomColorChange('button', $event)"
        placeholder="#FFFFFF" 
        maxlength="7">
      <button (click)="applyCustomColor('button')">Apply</button>
    </div>
    <div *ngIf="!buttonValid" class="error-message">Invalid color code</div>
  </div>

  <!-- Title Color -->
  <div>
    <label>Title Color:</label>
    <div class="color-options">
      <div *ngFor="let color of colors" class="color-circle"
           [ngStyle]="{'background-color': color}"
           [class.selected]="titleSelectedColor === color"
           (click)="selectColor('title', color)">
      </div>
    </div>
    <div class="custom-color-container">
      <input 
        type="color" 
        [value]="titleCustomColor" 
        (input)="onCustomColorChange('title', $event)">
      <span>{{ titleCustomColor }}</span>
    </div>
    <div class="custom-color-code-container">
      <input 
        type="text" 
        [(ngModel)]="titleCustomColor" 
        [class.invalid]="!titleValid"
        (input)="onCustomColorChange('title', $event)"
        placeholder="#FFFFFF" 
        maxlength="7">
      <button (click)="applyCustomColor('title')">Apply</button>
    </div>
    <div *ngIf="!titleValid" class="error-message">Invalid color code</div>
  </div>

  <!-- Submit Button -->
  <div>
    <button (click)="submitColors()">Submit Colors</button>
  </div>
</div>
